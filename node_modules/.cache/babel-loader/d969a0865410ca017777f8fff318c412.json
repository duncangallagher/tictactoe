{"ast":null,"code":"import _slicedToArray from\"/Users/duncan/Documents/repos/tictactoe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _classCallCheck from\"/Users/duncan/Documents/repos/tictactoe/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/duncan/Documents/repos/tictactoe/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/duncan/Documents/repos/tictactoe/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/duncan/Documents/repos/tictactoe/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import ReactDOM from'react-dom';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Square(props){return/*#__PURE__*/_jsx(\"button\",{className:props.className,onClick:props.onClick,children:props.value});}function Reset(props){return/*#__PURE__*/_jsx(\"button\",{className:props.className,onClick:props.onClick,children:props.value});}var Board=/*#__PURE__*/function(_React$Component){_inherits(Board,_React$Component);var _super=_createSuper(Board);function Board(props){var _this;_classCallCheck(this,Board);_this=_super.call(this,props);_this.getInitialState=function(){var initial_state={squares:Array(9).fill(null),xIsNext:true,turnCounter:0,winner:null,winningSquares:Array(3).fill(null)};return initial_state;};_this.state=_this.getInitialState();return _this;}_createClass(Board,[{key:\"handleClick\",value:function handleClick(i){this.state.turnCounter++;var squares=this.state.squares.slice();// return early if the game is over or same square is clicked\nif(calculateWinner(squares)||squares[i]){return;}// if 9 turns are reached and no winner, declare draw\nif(this.state.turnCounter==9&&!calculateWinner(squares)){this.state.winner='none';}squares[i]=this.state.xIsNext?'X':'O';this.setState({squares:squares,xIsNext:!this.state.xIsNext});}},{key:\"renderSquare\",value:function renderSquare(i){var _this2=this;var class_name=\"square\";if(this.state.winningSquares.includes(i)){class_name+=' winner';}return/*#__PURE__*/_jsx(Square,{className:class_name,value:this.state.squares[i],onClick:function onClick(){return _this2.handleClick(i);}});}},{key:\"handleReset\",value:function handleReset(){console.log(\"game reset\");this.setState(this.getInitialState());}},{key:\"renderReset\",value:function renderReset(){var _this3=this;var class_name=\"reset-button\";var reset_text=\"Reset\";if(this.state.winner){return/*#__PURE__*/_jsx(Reset,{className:class_name,value:reset_text,onClick:function onClick(){return _this3.handleReset();}});}}},{key:\"render\",value:function render(){var winning_squares=calculateWinner(this.state.squares);var title='Tic-Tac-Toe';var status;if(winning_squares){var winner=this.state.squares[winning_squares[0]];status=winner+' wins!';this.state.winner=winner;this.state.winningSquares=winning_squares;}else if(this.state.winner=='none'){status='Draw!';}else{status='Next player: '+(this.state.xIsNext?'X':'O');}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)]}),/*#__PURE__*/_jsx(\"div\",{className:\"status\",children:status}),/*#__PURE__*/_jsx(\"div\",{className:\"reset\",children:this.renderReset()})]});}}]);return Board;}(React.Component);var Game=/*#__PURE__*/function(_React$Component2){_inherits(Game,_React$Component2);var _super2=_createSuper(Game);function Game(){_classCallCheck(this,Game);return _super2.apply(this,arguments);}_createClass(Game,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"game\",children:/*#__PURE__*/_jsx(\"div\",{className:\"game-board\",children:/*#__PURE__*/_jsx(Board,{})})});}}]);return Game;}(React.Component);// ========================================\nReactDOM.render(/*#__PURE__*/_jsx(Game,{}),document.getElementById('root'));function calculateWinner(squares){var lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(var i=0;i<lines.length;i++){var _lines$i=_slicedToArray(lines[i],3),a=_lines$i[0],b=_lines$i[1],c=_lines$i[2];if(squares[a]&&squares[a]===squares[b]&&squares[a]===squares[c]){var winning_squares=lines[i];return winning_squares;}}return null;}","map":{"version":3,"sources":["/Users/duncan/Documents/repos/tictactoe/src/index.js"],"names":["React","ReactDOM","Square","props","className","onClick","value","Reset","Board","getInitialState","initial_state","squares","Array","fill","xIsNext","turnCounter","winner","winningSquares","state","i","slice","calculateWinner","setState","class_name","includes","handleClick","console","log","reset_text","handleReset","winning_squares","title","status","renderSquare","renderReset","Component","Game","render","document","getElementById","lines","length","a","b","c"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction Square(props) {\n    return (\n        <button className={props.className} onClick={props.onClick}>\n            {props.value}\n        </button>\n    );\n}\n\nfunction Reset(props) {\n    return (\n        <button className={props.className} onClick={props.onClick}>\n            {props.value}\n        </button>\n    );\n}\n\nclass Board extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.getInitialState = function () {\n            let initial_state =  {\n                squares: Array(9).fill(null),\n                xIsNext: true,\n                turnCounter: 0,\n                winner: null,\n                winningSquares: Array(3).fill(null)\n            }\n            return initial_state;\n        };\n\n        this.state = this.getInitialState();\n    }\n\n    handleClick(i) {\n        this.state.turnCounter++;\n        const squares = this.state.squares.slice();\n        // return early if the game is over or same square is clicked\n        if (calculateWinner(squares) || squares[i]) {\n            return;\n        }\n        // if 9 turns are reached and no winner, declare draw\n        if (this.state.turnCounter == 9 && !(calculateWinner(squares))) {\n            this.state.winner = 'none';\n        }\n        squares[i] = this.state.xIsNext ? 'X' : 'O';\n        this.setState({\n            squares: squares,\n            xIsNext: !this.state.xIsNext,\n        });\n    }\n\n    renderSquare(i) {\n        let class_name = \"square\";\n        if ((this.state.winningSquares).includes(i)) {\n            class_name += ' winner';\n        }\n        return (\n            <Square\n                className={class_name}\n                value={this.state.squares[i]}\n                onClick={() => this.handleClick(i)}\n            />\n        );\n    }\n\n    handleReset() {\n        console.log(\"game reset\");\n        this.setState(this.getInitialState());\n    }\n\n    renderReset() {\n        let class_name = \"reset-button\";\n        let reset_text = \"Reset\"\n        if (this.state.winner) {\n            return (\n                <Reset\n                    className={class_name}\n                    value={reset_text}\n                    onClick={() => this.handleReset()}\n                />\n            );\n        }\n    }\n\n    render() {\n        const winning_squares = calculateWinner(this.state.squares);\n        let title = 'Tic-Tac-Toe';\n        let status;\n        if (winning_squares) {\n            let winner = this.state.squares[winning_squares[0]];\n            status = winner + ' wins!';\n            this.state.winner = winner;\n            this.state.winningSquares = winning_squares;\n        } else if (this.state.winner == 'none') {\n            status = 'Draw!';\n        }\n        else {\n            status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\n        }\n        return (\n            <div>\n                <div className=\"title\">{title}</div>\n                <div className=\"board-row\">\n                    {this.renderSquare(0)}\n                    {this.renderSquare(1)}\n                    {this.renderSquare(2)}\n                </div>\n                <div className=\"board-row\">\n                    {this.renderSquare(3)}\n                    {this.renderSquare(4)}\n                    {this.renderSquare(5)}\n                </div>\n                <div className=\"board-row\">\n                    {this.renderSquare(6)}\n                    {this.renderSquare(7)}\n                    {this.renderSquare(8)}\n                </div>\n                <div className=\"status\">{status}</div>\n                <div className=\"reset\">{this.renderReset()}</div>\n            </div>\n        );\n    }\n}\n\nclass Game extends React.Component {\n    render() {\n        return (\n            <div className=\"game\">\n                <div className=\"game-board\">\n                    <Board />\n                </div>\n            </div>\n        );\n    }\n}\n\n// ========================================\n\nReactDOM.render(\n    <Game />,\n    document.getElementById('root')\n);\n\nfunction calculateWinner(squares) {\n    const lines = [\n        [0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8],\n        [0, 3, 6],\n        [1, 4, 7],\n        [2, 5, 8],\n        [0, 4, 8],\n        [2, 4, 6],\n    ];\n    for (let i = 0; i < lines.length; i++) {\n        const [a, b, c] = lines[i];\n        if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n            const winning_squares = lines[i];\n            return winning_squares;\n        }\n    }\n    return null;\n}"]},"metadata":{},"sourceType":"module"}